{% extends "base.html" %}

{%block navigation%}
    <img src="asda.jpg" alt="Avatar" class="img-thumbnail">
    <div>
        <div class="ms-2 me-2">
            Ф. М. Достоевский
        </div>
        <a class="ms-2 me-2" href="{% url 'login' %}">log out</a>
    </div>
{%endblock%}

{%block initial%}
    <h1>Settings: Ф. М. Достоевский</h1>
    <a href="{% url 'index' %}">New Questions</a>
{%endblock%}

{%block content%}
  <form class="w-100" id="questionForm">

    <div class="form-group row  mt-5">
        <label for="log" class="col-sm-2 col-form-label">Login</label>
        <div class="col-sm-10">
            <input type="text" class="form-control input-val" id="title" maxlength="10" placeholder="Логин" required>
            <div class="invalid-feedback">Пожалуйста, введите логин!</div>
        </div>
    </div>

    <div class="form-group row  mt-3">
        <label for="email" class="col-sm-2 col-form-label">Email</label>
        <div class="col-sm-10">
            <input type="text" class="form-control input-val" id="tags" maxlength="50" placeholder="Почта">
            <div class="invalid-feedback">Пожалуйста, введите email!</div>
        </div>
    </div>

    <div class="form-group row  mt-3">
        <label for="nick" class="col-sm-2 col-form-label">NickName</label>
        <div class="col-sm-10">
            <input type="text" class="form-control input-val" id="title" maxlength="10" placeholder="Имя" required>
            <div class="invalid-feedback">Пожалуйста, введите NickName!</div>
        </div>
    </div>

    <div class="form-group row mt-3">
        <label for="avatar" class="col-sm-2 col-form-label">Upload avatar</label>
        <div class="col-sm-10">
            <img src="asda.jpg" alt="Avatar" class="img-thumbnail mb-3"> 
            
            <div class="d-flex">
                <input id="fileInput" class="file-input" type="file">
                <span class="form-control input-file-val" id="fileLabel">Выберите файл</span>
                <button class="btn btn-success choose-button ms-3" onclick="document.getElementById('fileInput').click()">
                     Choose
                </button>
            </div>
        </div>
        
    </div>

    <button class="btn btn-success col-sm-2  mt-5" type="submit">Save!</button>
  </form>                

  <div id="errorMessages" class="mt-3 text-danger"></div>

  <script>
    const fileInput = document.getElementById('fileInput');
    const fileLabel = document.getElementById('fileLabel');

    fileInput.addEventListener('change', function() {
        if (fileInput.files.length > 0) {
            fileLabel.textContent = fileInput.files[0].name; // Отображаем имя файла
        } else {
            fileLabel.textContent = 'Choose file'; // Сбрасываем текст, если файл не выбран
        }
    });
</script>
{%endblock%}

